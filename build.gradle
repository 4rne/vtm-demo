/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'application'

mainClassName = 'vtmDemo.MapsforgeTest'

eclipse {
    classpath {
        downloadJavadoc = true
        downloadSources = true
    }
}

sourceSets {
    main {
        java {
            srcDirs 'src'
        }
    }
}

repositories {
  google()
  jcenter()
	maven { url 'https://jitpack.io' }
  maven { url 'https://repo.boundlessgeo.com/main/' }
  maven { url 'https://oss.sonatype.org/content/repositories/snapshots/' }
}

ext {
	vtmVersion = '0.10.0'
}

dependencies {
	compile 'org.slf4j:slf4j-nop:1.7.25'
	implementation "org.mapsforge:vtm:$vtmVersion"
	implementation "org.mapsforge:vtm-themes:$vtmVersion"
	implementation "org.mapsforge:vtm-gdx:$vtmVersion"
	implementation "org.mapsforge:vtm-desktop:$vtmVersion"
	implementation "org.mapsforge:vtm-desktop:$vtmVersion:natives-linux"
	implementation "org.mapsforge:vtm-desktop:$vtmVersion:natives-osx"
	implementation "org.mapsforge:vtm-desktop:$vtmVersion:natives-windows"
	implementation 'com.badlogicgames.gdx:gdx:1.9.9'
	implementation 'com.badlogicgames.gdx:gdx-platform:1.9.9:natives-desktop'
	implementation 'com.badlogicgames.gdx:gdx-backend-lwjgl:1.9.9'
	implementation 'org.lwjgl.lwjgl:lwjgl:2.9.3'
	implementation 'org.lwjgl.lwjgl:lwjgl-platform:2.9.3:natives-linux'
	implementation 'org.lwjgl.lwjgl:lwjgl-platform:2.9.3:natives-osx'
	implementation 'org.lwjgl.lwjgl:lwjgl-platform:2.9.3:natives-windows'
	implementation 'com.github.blackears:svgSalamander:v1.1.1'
}

task fatJar(type: Jar, dependsOn: classes) {
    classifier = 'jar-with-dependencies'
    from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }
    exclude 'META-INF/*.DSA', 'META-INF/*.RSA', 'META-INF/*.SF'
    manifest {
        attributes 'Main-Class': "${mainClassName}"
    }
    with jar
}
